# Database
DATABASE_URL=postgresql+asyncpg://storyuser:${DB_PASSWORD}@db:5432/stories
DB_PASSWORD=pass

# OpenAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_PREMISE_MODEL=gpt-4o
OPENAI_EVAL_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS_CHAPTER=1200
OPENAI_MAX_TOKENS_PREMISE=1000
OPENAI_MAX_TOKENS_EVAL=300
OPENAI_TEMPERATURE_CHAPTER=0.85
OPENAI_TEMPERATURE_PREMISE=0.95
OPENAI_TEMPERATURE_EVAL=0.3

# Timing
CHAPTER_INTERVAL_SECONDS=180
EVALUATION_INTERVAL_CHAPTERS=5
WORKER_TICK_INTERVAL=30

# Story Management
MIN_ACTIVE_STORIES=3
MAX_ACTIVE_STORIES=5
CONTEXT_WINDOW_CHAPTERS=5
MAX_CHAPTERS_PER_STORY=50
MIN_CHAPTERS_BEFORE_EVAL=3

# Evaluation
QUALITY_SCORE_MIN=4.0
COHERENCE_WEIGHT=0.35
NOVELTY_WEIGHT=0.25
ENGAGEMENT_WEIGHT=0.25
PACING_WEIGHT=0.15

# Content Controls (JSON string; leave blank to use defaults)
CONTENT_AXES={"sexual_content":{"average_level":2,"momentum":0,"premise_multiplier":1},"violence":{"average_level":2,"momentum":0,"premise_multiplier":1},"strong_language":{"average_level":2,"momentum":0,"premise_multiplier":1},"drug_use":{"average_level":2,"momentum":0,"premise_multiplier":1},"horror_suspense":{"average_level":2,"momentum":0,"premise_multiplier":1},"gore_graphic_imagery":{"average_level":2,"momentum":0,"premise_multiplier":1},"romance_focus":{"average_level":2,"momentum":0,"premise_multiplier":1},"crime_illicit_activity":{"average_level":2,"momentum":0,"premise_multiplier":1},"political_ideology":{"average_level":2,"momentum":0,"premise_multiplier":1},"supernatural_occult":{"average_level":2,"momentum":0,"premise_multiplier":1}}

# System
LOG_LEVEL=INFO
LOG_DIR=/app/logs
LOG_MAX_BYTES=5000000
LOG_BACKUP_COUNT=5
ENABLE_WEBSOCKET=true
PUBLIC_API_URL=backend:8000
PUBLIC_WS_URL=ws://backend:8000/ws/stories

# Admin Authentication
ADMIN_USERNAME=admin
ADMIN_PASSWORD=PLEASE-SET-A-STRONG-PASSWORD-HERE
SESSION_SECRET=PLEASE-SET-A-STRONG-SESSION-SECRET-HERE
SESSION_TTL_SECONDS=604800
SESSION_COOKIE_NAME=novellone_session
SESSION_COOKIE_DOMAIN=
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_SAMESITE=lax

